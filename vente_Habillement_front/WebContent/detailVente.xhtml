<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf">
	<f:view locale="#{authentication.locale}">
<h:head>
	<f:metadata>
		<f:event type="preRenderView" listener="#{managedVente.init}" />

	</f:metadata>
	<meta charset="UTF-8" />
	<title>Eshop Vetement</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
		rel="stylesheet" />
	<link type="text/css" rel="stylesheet"
		href="resources/css/materialize.min.css" media="screen,projection" />
	<link type="text/css" rel="stylesheet" href="resources/css/main.css" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</h:head>
<h:body class="grey lighten-4">
	<nav class="blue darken-2">
		<div class="container">
			<div class="nav-wrapper">
				<a href="index.xhtml" class="brand-logo">Evetement</a> <a href="#"
					data-activates="side-nav"
					class="button-collapse show-on-large right"> <i
					class="material-icons">menu</i>
				</a>
				<ul class="right hide-on-med-and-down">
					<li ><a href="index.xhtml"> <h:outputText value="#{msg['dashbord']}"/></a></li>
					<li><a href="fournisseur.xhtml"><h:outputText value="#{msg['suplyier']}" /> </a></li>
					<li><a href="client.xhtml"><h:outputText value="#{msg['clients']}" /> </a></li>
					<li><a href="articles.xhtml"><h:outputText value="#{msg['products']}" /> </a></li>
					<li ><a href="achat.xhtml"><h:outputText value="#{msg['buying']}" /> </a></li>
					<li class="active"><a href="vente.xhtml"><h:outputText value="#{msg['sales']}" /> </a></li>
				</ul>
				<!-- Side nav -->
				<ul id="side-nav" class="side-nav">
					<li>
						<div class="user-view">
							<div class="background">
								<img src="resources/img/ocean.jpg" alt="" />
							</div>
							<a href="#"> <img src="resources/img/abdel.jpg" alt=""
								class="circle"></img>
							</a> <a href="#"> <span class="name white-text">Abdel Ysf</span>
							</a> <a href="#"> <span class="email white-text">Abdel.ysf@gmail.com</span>
							</a>
						</div>
					</li>
					<li><a href="index.xhtml"> <i class="material-icons">dashboard</i>
							<h:outputText value="#{msg['dashbord']}"/>
					</a></li>
					<li><a href="fournisseur.xhtml"><h:outputText value="#{msg['suplyier']}" /> </a></li>
					<li><a href="client.xhtml"><h:outputText value="#{msg['clients']}" /> </a></li>
					<li><a href="articles.xhtml"><h:outputText value="#{msg['products']}" /> </a></li>
					<li ><a href="achat.xhtml"><h:outputText value="#{msg['buying']}" /> </a></li>
					<li class="active"><a href="vente.xhtml"><h:outputText value="#{msg['sales']}" /> </a></li>
					<li>
						<div class="divider"></div>
					</li>

					<li><h:form>
					
					<h:commandLink action="#{authentication.logout}" value="#{msg['logout']}" style="color:#383333;" />
					</h:form>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<p:messages id="messages" showDetail="true" closable="true">
		<p:autoUpdate />
	</p:messages>


	<!-- Section: detailvente -->
	<section class="section section-users grey lighten-4">
		<div class="container">
			<div class="row">

				<div class="col s5">
					<div class="card">
						<div class="card-content">
							<span class="card-title">detail de Vente id:<h:outputText
									value="#{managedVente.detailVente.idVente}" /></span>
							<div class="card-action">
								<h:panelGroup
									rendered="#{managedVente.detailVente.credit.idCredit !=0}">
									<div class="input-field">
										<i class="material-icons prefix">attach_money</i>
										<h:inputText id="ida100"
											value="#{managedVente.detailVente.credit.montantReste}"
											required="true" styleClass="" disabled="true" />
										<label class="blue-text" for="ida100">le reste a pay√©
										</label>
									</div>
									<div class="input-field">
										<i class="material-icons prefix">date_range</i>
										<h:inputText id="ida88"
											value="#{managedVente.detailVente.credit.dateExpiration}"
											required="true" styleClass="" disabled="true" />
										<label class="blue-text" for="ida88">date d'expiration
											credit</label>
									</div>
								</h:panelGroup>
								<div class="input-field">
									<i class="material-icons prefix">face</i>
									<h:inputText id="ida920"
										value="#{managedVente.detailVente.client.nomComplet}" required="true"
										styleClass="" disabled="true" />
									<label class="blue-text" for="ida920">client</label>
								</div>
								<div class="input-field">
									<i class="material-icons prefix">date_range</i>
									<h:inputText id="ida92"
										value="#{managedVente.detailVente.dateVente}" required="true"
										styleClass="" disabled="true" />
									<label class="blue-text" for="ida92">date achat</label>
								</div>
								<div class="input-field">
									<i class="material-icons prefix">explicit</i>
									<h:inputText id="idb"
										value="#{managedVente.detailVente.article.designation.nomDesignation} #{managedVente.detailVente.article.designation.sousType}"
										required="true" styleClass="" disabled="true" />
									<label class="blue-text" for="ida">designation</label>
								</div>
								<div class="input-field">
									<i class="material-icons prefix">format_size</i>
									<h:inputText id="ida5"
										value="#{managedVente.detailVente.article.taille}"
										required="true" styleClass="" disabled="true" />
									<label class="blue-text" for="ida5">taille article</label>
								</div>
								<div class="input-field">
									<i class="material-icons prefix">attach_money</i>
									<h:inputText id="ida7"
										value="#{managedVente.detailVente.mantant}" required="true"
										styleClass="" disabled="true" />
									<label class="blue-text" for="ida7">montant </label>
								</div>
								<div class="input-field">
									<i class="material-icons prefix">high_quality</i>
									<h:inputText id="ida6"
										value="#{managedVente.detailVente.modePayement}"
										required="true" styleClass="" disabled="true" />
									<label class="blue-text" for="ida6">mode de payement</label>
								</div>
								




							</div>
						</div>
					</div>
				</div>
				<!-- versement section -->
				<h:panelGroup
					rendered="#{managedVente.detailVente.credit.idCredit !=0}">
					<div class="col s7">
						<div class="card">
							<div class="card-content">
								<span class="card-title"> les versements de credit:</span>
								<div class="card-action">

									<h:dataTable var="versmt"
										value="#{managedVente.detailVente.credit.versement}"
										styleClass="striped">
										<h:column>
											<f:facet name="header"> id credit </f:facet>
											<h:outputText value="#{versmt.idCredit}" />
										</h:column>
										<h:column>
											<f:facet name="header">  id versement</f:facet>
											<h:outputText value="#{versmt.idVersement}" />
										</h:column>
										<h:column>
											<f:facet name="header">date versement</f:facet>
											<h:outputText value="#{versmt.dateVersement}" />
										</h:column>
										<h:column>
											<f:facet name="header"> montant versemnt</f:facet>
											<h:outputText value="#{versmt.mantantVersement}" />
										</h:column>

									</h:dataTable>








								</div>
							</div>
						</div>
					</div>
				</h:panelGroup>
			</div>
		</div>

	</section>

	<!-- Fixed Action Button -->
	<h:panelGroup
		rendered="#{managedVente.detailVente.credit.idCredit !=0}">
		<div class="fixed-action-btn">
			<a href="#vente-modal"
				class="modal-trigger btn-floating btn-large red"> <i
				class="material-icons">add</i>
			</a>
		</div>
	</h:panelGroup>
	<!-- Add vente Modal -->
	<div id="vente-modal" class="modal">
		<div class="modal-content">
			<h4>ajouter verement</h4>
			<h:form>
				<div class="input-field">
					<i class="material-icons prefix">date_range</i>
					<h:inputText id="dateV" value="#{managedVente.dateVeresement}"
						required="true" styleClass="datepicker" />
					<label class="blue-text" for="dateV">date</label>
				</div>
				<div class="input-field">
					<i class="material-icons prefix">attach_money</i>
					<h:inputText id="versementmt" value="#{managedVente.mtVersement}"
						required="true" />
					<label class="blue-text" for="versementmt">montant de
						versement</label>
				</div>
				<h:commandButton value="ajouter versement"
					styleClass="modal-action modal-close btn blue white-text"
					action="#{managedVente.addVerement}" />
			</h:form>
		</div>
	</div>
	<!-- Footer -->
	<footer class="section blue darken-2 white-text center">
		<p>
    	<h:outputText value="#{msg['footer']}"/>
    </p>
    <h:form>
        <h:commandButton styleClass="btnLang" action="#{authentication.changeLanguage('')}"
            value="fr"  image="resources/img/french.png" />
        
        <h:commandButton  styleClass="btnLang" action="#{authentication.changeLanguage('en')}"
            value="english"  image="resources/img/english.png" />
    </h:form>
  </footer>
	<!-- Preloader -->
	<div class="loader preloader-wrapper big active">
		<div class="spinner-layer spinner-blue-only">
			<div class="circle-clipper left">
				<div class="circle"></div>
			</div>
			<div class="gap-patch">
				<div class="circle"></div>
			</div>
			<div class="circle-clipper right">
				<div class="circle"></div>
			</div>
		</div>
	</div>
</h:body>

<script type="text/javascript" src="resources/js/jquery-3.3.1.min.js"></script>

<script type="text/javascript" src="resources/js/materialize.min.js"></script>
<script>
	// Hide Sections
	$('.section').hide();

	setTimeout(function() {
		$(document).ready(function() {

			// Show sections
			$('.section').fadeIn();

			// Hide preloader
			$('.loader').fadeOut();

			//Init Side nav
			$('.button-collapse').sideNav();

			// Init Modal
			$('.modal').modal();

		});
	}, 1000);
	$(document).ready(function() {
		$('.datepicker').pickadate({
			format : 'mm/dd/yyyy',
			selectMonths : true, // Creates a dropdown to control month
			selectYears : 15,
			 container: 'body'
		// Creates a dropdown of 15 years to control year
		});
	});
</script>


<body>

</body>
</f:view>
</html>